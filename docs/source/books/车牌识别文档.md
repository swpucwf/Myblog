### 系统版本

- PaddlePaddle: 2.3
- paddleslim: 2.2.2
- PaddleOCR: Release/2.5

1. 安装环境

   ```shell
   ! git clone -b dygraph https://gitee.com/paddlepaddle/PaddleOCR
   ```

   

2. 安装以来库

   ```shell
   ! pip install -r PaddleOCR/requirements.txt
   ! pip install paddleslim editdistance
   ```

## 2.数据集准备

| 数据集类型 | 数量 |
| ---------- | ---- |
| 训练集     | 5769 |
| 验证集     | 1001 |
| 测试集     | 5006 |

[数据集下载地址](https://aistudio.baidu.com/aistudio/datasetdetail/101595)

ccpd 数据集规则

例如: 025-95_113-154&383_386&473-386&473_177&454_154&383_363&402-0_0_22_27_27_33_16-37-15.jpg

每个名称可以分为七个字段，以-符号作为分割。这些字段解释如下。

- 025：车牌面积与整个图片区域的面积比。025 (25%)
- 95_113：水平倾斜程度和垂直倾斜度。水平 95度 垂直 113度
- 154&383_386&473：左上和右下顶点的坐标。左上(154,383) 右下(386,473)
- 386&473_177&454_154&383_363&402：整个图像中车牌的四个顶点的精确（x，y）坐标。这些坐标从右下角顶点开始。(386,473) (177,454) (154,383) (363,402)
- 0_0_22_27_27_33_16：CCPD中的每个图像只有一个车牌。每个车牌号码由一个汉字，一个字母和五个字母或数字组成。有效的中文车牌由七个字符组成：省（1个字符），字母（1个字符），字母+数字（5个字符）。“ 0_0_22_27_27_33_16”是每个字符的索引。这三个数组定义如下。每个数组的最后一个字符是字母O，而不是数字0。我们将O用作“无字符”的符号，因为中文车牌字符中没有O。因此以上车牌拼起来即为 皖AY339S
- 37：牌照区域的亮度。 37 (37%)
- 15：车牌区域的模糊度。15 (15%)

验证代码：

```shell
python tools/eval.py -c configs/det/ch_PP-OCRv3/ch_PP-OCRv3_det_student.yml -o   Global.pretrained_model=models/ch_PP-OCRv3_det_distill_train/student.pdparams  Eval.dataset.data_dir=../CCPD2020/ccpd_green Eval.dataset.label_file_list=[../CCPD2020/PPOCR/test/det.txt] Eval.loader.num_workers=2
```

```python
python tools/train.py -c configs/det/ch_PP-OCRv3/ch_PP-OCRv3_det_student.yml -o   Global.pretrained_model=models/ch_PP-OCRv3_det_distill_train/student.pdparams 
    Global.save_model_dir=output/CCPD/det/ 
    Global.eval_batch_step="[0, 772]" 
    Optimizer.lr.name=Const 
    Optimizer.lr.learning_rate=0.0005 
    Optimizer.lr.warmup_epoch=0 
    Train.dataset.data_dir=../CCPD2020/ccpd_green 
    Train.dataset.label_file_list=[../CCPD2020/PPOCR/train/det.txt] 
    Train.loader.num_workers=1 
    Eval.dataset.data_dir=../CCPD2020/ccpd_green 
    Eval.dataset.label_file_list=[../CCPD2020/PPOCR/test/det.txt] 
    Eval.loader.num_workers=0
```

## 